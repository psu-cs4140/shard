[info] Running ShardWeb.Endpoint with Bandit 1.8.0 at 127.0.0.1:4000 (http)
[info] Access ShardWeb.Endpoint at http://localhost:4000
[watch] build finished, watching for changes...
â‰ˆ tailwindcss v4.1.7

/*! ðŸŒ¼ daisyUI 5.0.35 */
sh: 1: watchman: not found
Done in 178ms
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=8.6ms queue=1.3ms idle=382.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:26:09.386046Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.5ms queue=1.1ms idle=448.7ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.5ms queue=0.8ms idle=452.6ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=1.4ms idle=454.1ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.6ms queue=1.3ms idle=461.7ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.3ms queue=1.0ms idle=462.0ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=9.7ms queue=1.1ms idle=469.6ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=4.9ms queue=1.0ms idle=483.9ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.5ms idle=252.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=225.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.4ms queue=0.4ms idle=106.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.1ms idle=50.8ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
DELETE FROM "doors" WHERE "id" = $1 [136]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.1ms
DELETE FROM "doors" WHERE "id" = $1 [135]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.1ms idle=72.5ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=5.3ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:26:09Z], ~U[2025-10-30 00:26:09Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:26:09Z], ~U[2025-10-30 00:26:09Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.4ms queue=0.5ms idle=98.7ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.3ms queue=0.4ms idle=91.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.2ms idle=92.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=79.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.4ms queue=0.3ms idle=71.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.2ms queue=0.2ms idle=96.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.3ms queue=0.2ms idle=93.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms queue=0.5ms idle=95.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.3ms queue=0.2ms idle=67.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.3ms idle=50.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.5ms idle=39.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 350ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 267Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "B2A4ASc_ASQaUjxzDT5aFgw-XVoTHDEiQWz5HkRoo9K1DmlFcLm2bmVW", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "V7B4oTSKukwBIS6Por0hqqgu", "live_socket_id" => "users_sessions:QAYyYzlKV4mDHkKUnDsZgeaqJuC3YxJHG5mJ7ybVUcc=", "user_token" => <<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>}
[debug] QUERY OK source="users_tokens" db=7.7ms idle=436.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:26:10.004183Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=2.4ms queue=4.6ms idle=444.8ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.2ms idle=448.2ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=2.2ms idle=449.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=11.6ms queue=0.1ms idle=420.6ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=17.0ms queue=0.1ms idle=422.3ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=6.7ms idle=439.5ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=3.8ms idle=445.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=4.6ms idle=448.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=5.8ms queue=0.2ms idle=458.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=4.0ms idle=60.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.4ms idle=57.0ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=3.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.3ms
DELETE FROM "doors" WHERE "id" = $1 [138]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.5ms
DELETE FROM "doors" WHERE "id" = $1 [137]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=13.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms queue=0.1ms idle=78.5ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.6ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:26:10Z], ~U[2025-10-30 00:26:10Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=2.0ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:26:10Z], ~U[2025-10-30 00:26:10Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=8.6ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=1.6ms idle=94.0ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=2.3ms idle=85.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=1.2ms idle=81.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=1.7ms queue=0.1ms idle=74.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.4ms idle=72.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 138ms
[debug] QUERY OK source="rooms" db=2.8ms queue=0.3ms idle=95.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.6ms idle=84.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=5.2ms idle=89.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.1ms idle=67.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=6.9ms queue=0.1ms idle=50.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=5.5ms idle=51.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=1.6ms idle=1995.6ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:26:14.017775Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=1.0ms idle=22.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.0ms idle=17.8ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.7ms idle=7.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.8ms idle=6.8ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=0.9ms idle=6.8ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=1.4ms idle=8.0ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.3ms idle=9.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=11.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=12.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=1.2ms idle=12.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.4ms idle=10.8ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
DELETE FROM "doors" WHERE "id" = $1 [140]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [139]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=11.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.6ms idle=24.2ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.4ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:26:14Z], ~U[2025-10-30 00:26:14Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:26:14Z], ~U[2025-10-30 00:26:14Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.8ms idle=30.8ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=30.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.9ms queue=0.1ms idle=31.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=31.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.5ms idle=30.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=32.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.6ms idle=31.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.8ms idle=33.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.1ms idle=19.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=14.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.3ms idle=13.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 64ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 46Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "EiQ3LikIXxE4MXcmQ0w4IHkXERpnFFMMzcyzPQ9_ST5W2tyr1HVMVX5X", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "hGNTyYfNkeBqq8ARH_GW1LfT", "live_socket_id" => "users_sessions:_LGCKjRaHgzsvS1O9dWlwlCVZq2jKWrQl4QapE8kxVI=", "user_token" => <<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>}
[debug] QUERY OK source="users_tokens" db=4.6ms idle=377.2ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:26:14.428777Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=1.7ms idle=381.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.9ms queue=0.3ms idle=382.2ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.5ms idle=383.2ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=1.4ms idle=380.8ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.5ms idle=378.7ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=3.3ms idle=380.6ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.5ms queue=0.2ms idle=382.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=382.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.1ms decode=0.2ms queue=0.1ms idle=383.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.9ms idle=16.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.3ms idle=15.7ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.8ms
DELETE FROM "doors" WHERE "id" = $1 [142]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [141]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.7ms idle=28.3ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.5ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:26:14Z], ~U[2025-10-30 00:26:14Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:26:14Z], ~U[2025-10-30 00:26:14Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=2.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=1.1ms queue=0.1ms idle=37.3ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=37.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.2ms idle=38.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=2.4ms queue=0.1ms idle=35.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.5ms queue=0.2ms idle=36.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 71ms
[debug] QUERY OK source="rooms" db=1.0ms idle=42.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.5ms idle=40.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.7ms queue=0.1ms idle=42.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=30.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=21.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.7ms idle=21.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.4ms idle=1092.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.4ms idle=1092.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=1090.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=1089.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=1084.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.8ms queue=0.5ms idle=1082.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=2.4ms queue=0.8ms idle=1084.5ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.9ms queue=0.8ms idle=1086.5ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=1089.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.1ms idle=1090.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 31ms
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=22.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=22.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=21.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=21.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=21.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=20.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.8ms queue=0.1ms idle=212.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=2.7ms queue=0.3ms idle=212.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=2.2ms queue=0.6ms idle=211.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=2.5ms queue=0.4ms idle=215.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.4ms queue=0.7ms idle=214.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=4.7ms queue=0.2ms idle=216.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=2.7ms idle=222.3ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=2.8ms queue=0.2ms idle=224.1ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=226.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.1ms idle=227.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 34ms
[debug] QUERY OK source="rooms" db=0.9ms queue=0.4ms idle=32.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=27.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.3ms idle=30.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=23.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=21.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=15.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=3.0ms queue=0.4ms idle=1547.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=3.1ms queue=0.3ms idle=1551.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.5ms idle=1556.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.1ms idle=1559.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=1561.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.8ms queue=0.2ms idle=1562.4ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.9ms queue=0.2ms idle=1563.8ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.4ms queue=0.1ms idle=1566.4ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=1568.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.4ms queue=0.1ms idle=1569.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 23ms
[debug] QUERY OK source="rooms" db=0.2ms queue=0.2ms idle=20.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=17.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.4ms idle=14.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.6ms idle=13.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=14.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=13.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.1ms idle=204.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.4ms idle=204.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.7ms idle=204.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=203.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=203.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.4ms queue=0.1ms idle=202.5ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.9ms idle=202.8ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.1ms queue=0.2ms idle=202.7ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=202.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.4ms idle=202.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 10ms
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=9.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=9.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=10.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=9.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=9.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=10.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
Done in 11ms
Compiling 3 files (.ex)
Generated shard app
[watch] build started (change: "../_build/dev/phoenix-colocated/shard/index.js")
[watch] build finished
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=1.0ms idle=700.1ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:28:26.731121Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=4.3ms queue=0.3ms idle=702.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=4.5ms idle=707.2ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.7ms queue=0.3ms idle=712.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=1.1ms queue=0.1ms idle=713.8ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.9ms queue=0.6ms idle=713.8ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=2.1ms idle=716.8ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=2.0ms idle=719.3ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=78.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=2.6ms idle=62.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=1.6ms idle=25.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=1.4ms idle=21.1ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [144]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=3.2ms
DELETE FROM "doors" WHERE "id" = $1 [143]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=38.9ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=1.1ms idle=68.6ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.9ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:28:26Z], ~U[2025-10-30 00:28:26Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.9ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:28:26Z], ~U[2025-10-30 00:28:26Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=4.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=1.7ms queue=0.1ms idle=81.4ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=1.0ms idle=81.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=82.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=80.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms idle=79.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=107.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.0ms idle=105.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.9ms idle=104.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms idle=54.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=42.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.8ms queue=0.1ms idle=43.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 171ms
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=2.6ms queue=0.2ms idle=240.8ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:28:27.072718Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.9ms idle=248.1ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.8ms queue=0.1ms idle=220.3ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.6ms queue=0.1ms idle=220.1ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=2.0ms idle=221.6ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=1.3ms idle=222.3ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=1.7ms idle=220.1ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.7ms queue=0.1ms idle=221.5ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=51.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.2ms idle=45.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=4.8ms queue=0.2ms idle=24.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.4ms queue=0.4ms idle=23.9ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.7ms
DELETE FROM "doors" WHERE "id" = $1 [146]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
DELETE FROM "doors" WHERE "id" = $1 [145]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=11.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.6ms idle=40.2ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.9ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:28:27Z], ~U[2025-10-30 00:28:27Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.9ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:28:27Z], ~U[2025-10-30 00:28:27Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=2.4ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.9ms queue=3.8ms idle=52.0ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=1.2ms queue=0.1ms idle=54.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=54.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=1.6ms queue=0.1ms idle=53.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms idle=53.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.2ms idle=60.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=3.0ms idle=59.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=3.9ms idle=53.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.3ms queue=0.1ms idle=40.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=2.0ms queue=0.1ms idle=30.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.3ms queue=0.4ms idle=25.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 112ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 44Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "PSssAE06KXteCHcwBAwlBQMPNWZeKDkXUlbT4cO55m5Au4dWKPr1od_C", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "hGNTyYfNkeBqq8ARH_GW1LfT", "live_socket_id" => "users_sessions:_LGCKjRaHgzsvS1O9dWlwlCVZq2jKWrQl4QapE8kxVI=", "user_token" => <<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>}
[debug] QUERY OK source="users_tokens" db=2.7ms idle=464.0ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:28:27.604841Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=2.6ms queue=0.1ms idle=466.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.3ms queue=0.1ms idle=467.3ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=2.1ms idle=467.7ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.8ms idle=462.2ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=0.6ms queue=0.1ms idle=459.3ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.5ms idle=459.7ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.9ms queue=0.1ms idle=458.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=1.2ms queue=0.1ms idle=458.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=459.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=1.9ms idle=19.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.3ms idle=19.6ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=2.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=3.1ms
DELETE FROM "doors" WHERE "id" = $1 [148]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [147]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=14.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.4ms idle=38.0ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.7ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:28:27Z], ~U[2025-10-30 00:28:27Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.7ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:28:27Z], ~U[2025-10-30 00:28:27Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=2.6ms idle=48.4ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=49.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=49.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.1ms idle=50.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.3ms idle=48.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 81ms
[debug] QUERY OK source="rooms" db=1.9ms queue=0.1ms idle=53.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.4ms queue=0.1ms idle=56.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.1ms queue=0.2ms idle=54.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=35.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.1ms idle=20.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=23.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] CONNECTED TO Phoenix.LiveView.Socket in 34Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "OGAwXz5sAx8GMyghBCEDZlcceiJASR0TnWrkQ8PTsX_cMr568nJJ18zf", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "V7B4oTSKukwBIS6Por0hqqgu", "live_socket_id" => "users_sessions:QAYyYzlKV4mDHkKUnDsZgeaqJuC3YxJHG5mJ7ybVUcc=", "user_token" => <<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>}
[debug] QUERY OK source="users_tokens" db=8.1ms idle=315.2ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:28:27.973641Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=14.0ms queue=0.5ms idle=323.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.1ms queue=0.1ms idle=338.7ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.6ms idle=338.7ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=1.3ms idle=328.4ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=4.1ms idle=331.2ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=5.9ms queue=0.9ms idle=332.5ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.6ms idle=337.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=4.2ms idle=338.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.1ms idle=344.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=2.9ms queue=0.1ms idle=42.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.2ms idle=30.6ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.9ms
DELETE FROM "doors" WHERE "id" = $1 [150]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=2.2ms
DELETE FROM "doors" WHERE "id" = $1 [149]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=12.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms idle=46.4ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.8ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:28:28Z], ~U[2025-10-30 00:28:28Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:28:28Z], ~U[2025-10-30 00:28:28Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.4ms idle=51.5ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=50.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=5.2ms idle=48.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=47.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.2ms idle=46.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 115ms
[debug] QUERY OK source="rooms" db=0.5ms idle=57.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.8ms queue=0.1ms idle=56.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.9ms queue=0.2ms idle=53.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.2ms idle=36.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=32.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=2.0ms idle=32.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.4ms queue=0.6ms idle=1075.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=2.0ms queue=0.1ms idle=1078.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=1081.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=1083.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=1084.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.9ms idle=1085.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.7ms queue=0.2ms idle=1086.8ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.0ms idle=1088.0ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=1089.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.1ms idle=1090.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 39ms
[debug] QUERY OK source="rooms" db=1.0ms idle=17.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=16.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms idle=14.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=14.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=13.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=14.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.9ms queue=0.4ms idle=322.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=2.2ms queue=0.1ms idle=324.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=1.5ms queue=0.3ms idle=326.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.3ms idle=329.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.5ms queue=0.8ms idle=326.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=2.5ms queue=0.1ms idle=327.8ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.9ms queue=0.6ms idle=331.4ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=2.8ms queue=0.4ms idle=333.6ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=336.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms idle=337.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 29ms
[debug] QUERY OK source="rooms" db=0.6ms queue=0.3ms idle=26.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms idle=25.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.7ms idle=22.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.1ms idle=21.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=16.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=20.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.1ms queue=0.2ms idle=1843.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=2.0ms queue=3.3ms idle=1845.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.8ms queue=0.1ms idle=1851.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.6ms queue=0.1ms idle=1855.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=2.1ms queue=0.1ms idle=1858.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=2.4ms queue=0.5ms idle=1861.3ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=3.5ms queue=0.3ms idle=1865.0ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.7ms queue=0.2ms idle=1869.5ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=1871.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms idle=1871.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 31ms
[debug] QUERY OK source="rooms" db=1.0ms idle=29.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.7ms idle=25.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=22.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=20.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=18.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=14.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.9ms queue=0.3ms idle=306.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.9ms idle=306.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=306.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=307.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.2ms idle=306.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.0ms queue=0.2ms idle=307.0ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.7ms queue=0.1ms idle=308.2ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.6ms idle=308.2ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=307.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.2ms idle=309.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 14ms
[debug] QUERY OK source="rooms" db=1.4ms queue=0.1ms idle=13.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.6ms idle=15.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.4ms queue=0.9ms idle=13.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.7ms idle=14.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=15.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.3ms idle=13.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 436Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "a"}}
[debug] Replied in 256Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 354Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "at"}}
[debug] Replied in 434Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 588Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "att"}}
[debug] Replied in 568Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 662Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "atta"}}
[debug] Replied in 394Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "c"}
[debug] Replied in 415Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attac"}}
[debug] Replied in 520Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "k"}
[debug] Replied in 1ms
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack"}}
[debug] Replied in 290Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => " "}
[debug] Replied in 522Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack "}}
[debug] Replied in 433Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "g"}
[debug] Replied in 533Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack g"}}
[debug] Replied in 503Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 497Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack ga"}}
[debug] Replied in 759Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "r"}
[debug] Replied in 610Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack gar"}}
[debug] Replied in 377Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "y"}
[debug] Replied in 398Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack gary"}}
[debug] Replied in 481Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "Enter"}
[debug] Replied in 181Âµs
[debug] HANDLE EVENT "submit_command" in ShardWeb.MudGameLive
  Parameters: %{"command" => %{"text" => "attack gary"}}
[debug] Replied in 3ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 341Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "a"}}
[debug] Replied in 628Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 542Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "at"}}
[debug] Replied in 759Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 415Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "att"}}
[debug] Replied in 629Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 196Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "atta"}}
[debug] Replied in 201Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "c"}
[debug] Replied in 581Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attac"}}
[debug] Replied in 496Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "k"}
[debug] Replied in 505Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack"}}
[debug] Replied in 1ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "Enter"}
[debug] Replied in 579Âµs
[debug] HANDLE EVENT "submit_command" in ShardWeb.MudGameLive
  Parameters: %{"command" => %{"text" => "attack"}}
[debug] Replied in 660Âµs
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/mud_game_live.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
Done in 8ms
Done in 8ms
Compiling 3 files (.ex)
Compiling 1 file (.ex)
Generated shard app
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=3.2ms idle=553.6ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:33:15.621997Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.5ms idle=558.7ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.4ms idle=559.6ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=1.6ms idle=561.5ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=1.4ms idle=563.3ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=0.5ms queue=0.1ms idle=564.5ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=2.2ms idle=565.6ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.0ms queue=0.1ms idle=568.0ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=1.4ms idle=52.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=40.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=1.1ms idle=17.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.3ms queue=0.1ms idle=16.7ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [152]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [151]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=38.9ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms idle=58.4ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.8ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:33:15Z], ~U[2025-10-30 00:33:15Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:33:15Z], ~U[2025-10-30 00:33:15Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=7.5ms idle=63.3ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=69.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=70.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=68.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.5ms idle=68.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=83.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=5.0ms queue=0.2ms idle=83.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=6.2ms queue=1.0ms idle=82.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=3.2ms idle=47.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.1ms idle=36.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=3.8ms idle=44.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 164ms
[info] GET /play/tutorial_terrain
[info] GET /play/tutorial_terrain
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=1.5ms idle=238.1ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:33:15.972051Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="users_tokens" db=1.6ms idle=233.8ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:33:15.972051Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="users_tokens" db=3.5ms idle=232.6ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:33:15.972066Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=2.1ms queue=0.1ms idle=241.1ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="characters" db=0.9ms queue=1.7ms idle=90.2ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="characters" db=0.4ms queue=1.8ms idle=90.2ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.8ms idle=66.0ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="users" db=0.9ms idle=87.5ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="users" db=0.4ms queue=0.2ms idle=65.2ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.4ms idle=17.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="characters" db=3.0ms idle=64.8ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="characters" db=1.2ms queue=2.3ms idle=14.5ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=1.0ms queue=0.1ms idle=15.9ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.3ms queue=0.4ms idle=5.2ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.5ms queue=0.4ms idle=4.2ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=2.3ms idle=4.6ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=2.2ms queue=0.4ms idle=5.2ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.5ms queue=0.3ms idle=5.7ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=1.8ms idle=5.9ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="room_items" db=4.5ms idle=3.7ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="room_items" db=5.3ms idle=7.0ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.0ms queue=0.4ms idle=7.0ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="npcs" db=1.4ms queue=0.5ms idle=7.5ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.1ms idle=7.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="npcs" db=2.3ms idle=7.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=1.9ms idle=8.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.2ms idle=8.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.5ms idle=5.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=5.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=3.5ms queue=0.4ms idle=7.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK db=0.3ms idle=5.4ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=5.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.9ms idle=5.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK source="doors" db=1.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=0.3ms idle=5.5ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.2ms queue=2.6ms idle=3.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK source="doors" db=2.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=3.2ms idle=5.3ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.7ms
DELETE FROM "doors" WHERE "id" = $1 [154]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.4ms
DELETE FROM "doors" WHERE "id" = $1 [153]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=5.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=12.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=2.3ms idle=23.6ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=19.3ms
DELETE FROM "doors" WHERE "id" = $1 [154]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=12.7ms
DELETE FROM "doors" WHERE "id" = $1 [154]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.7ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:33:16Z], ~U[2025-10-30 00:33:16Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=3.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:33:16Z], ~U[2025-10-30 00:33:16Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=5.9ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=2.5ms idle=43.3ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=46.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=2.7ms queue=0.1ms idle=47.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=8.2ms idle=49.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK db=1.4ms
rollback []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=2.3ms queue=0.1ms idle=57.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK db=6.8ms
rollback []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=78.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.2ms queue=0.1ms idle=62.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=3.1ms queue=0.1ms idle=42.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=43.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=46.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.6ms idle=43.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 167ms
[info] Sent 409 in 276ms
[info] Sent 409 in 281ms
[debug] ** (Ecto.StaleEntryError) attempted to delete a stale struct:

%Shard.Map.Door{__meta__: #Ecto.Schema.Metadata<:loaded, "doors">, id: 154, name: nil, description: nil, direction: "south", is_locked: true, key_required: "Tutorial Key", door_type: "locked_gate", properties: %{}, new_dungeon: false, from_room_id: 10, from_room: #Ecto.Association.NotLoaded<association :from_room is not loaded>, to_room_id: 11, to_room: #Ecto.Association.NotLoaded<association :to_room is not loaded>, inserted_at: ~U[2025-10-30 00:33:15Z], updated_at: ~U[2025-10-30 00:33:15Z]}

This typically happens when the struct no longer exists in the database or a database trigger/rule has forbidden the action. If stale entries are expected, you may use `:stale_error_field` to convert this into a changeset error, or set `:allow_stale` to true if you would like stale operations to be considered a success (such as a stale deletion)

    (ecto 3.13.2) lib/ecto/repo/schema.ex:1023: Ecto.Repo.Schema.apply/4
    (ecto 3.13.2) lib/ecto/repo/schema.ex:721: anonymous fn/13 in Ecto.Repo.Schema.do_delete/4
    (ecto 3.13.2) lib/ecto/repo/schema.ex:407: Ecto.Repo.Schema.delete!/4
    (shard 0.1.0) lib/shard/map.ex:162: anonymous fn/1 in Shard.Map.delete_door/1
    (shard 0.1.0) lib/shard/repo.ex:2: anonymous fn/1 in Shard.Repo.transaction/2
    (ecto 3.13.2) lib/ecto/repo/transaction.ex:7: anonymous fn/2 in Ecto.Repo.Transaction.transact/4
    (ecto_sql 3.13.2) lib/ecto/adapters/sql.ex:1458: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.8.0) lib/db_connection.ex:1753: DBConnection.run_transaction/4
    (shard 0.1.0) lib/shard/items.ex:395: Shard.Items.create_dungeon_door/0
    (shard 0.1.0) lib/shard_web/live/user_live/mud_game_live.ex:397: ShardWeb.MudGameLive.setup_tutorial_door/0
    (shard 0.1.0) lib/shard_web/live/user_live/mud_game_live.ex:374: ShardWeb.MudGameLive.setup_tutorial_content/1
    (shard 0.1.0) lib/shard_web/live/user_live/mud_game_live.ex:25: ShardWeb.MudGameLive.mount/3
    (phoenix_live_view 1.1.8) lib/phoenix_live_view/utils.ex:348: anonymous fn/6 in Phoenix.LiveView.Utils.maybe_call_live_view_mount!/5
    (telemetry 1.3.0) /home/owner/gjbauer-shard/deps/telemetry/src/telemetry.erl:324: :telemetry.span/3
    (phoenix_live_view 1.1.8) lib/phoenix_live_view/static.ex:324: Phoenix.LiveView.Static.call_mount_and_handle_params!/5
    (phoenix_live_view 1.1.8) lib/phoenix_live_view/static.ex:155: Phoenix.LiveView.Static.do_render/4
    (phoenix_live_view 1.1.8) lib/phoenix_live_view/controller.ex:39: Phoenix.LiveView.Controller.live_render/3
    (phoenix 1.8.1) lib/phoenix/router.ex:416: Phoenix.Router.__call__/5
    (shard 0.1.0) lib/shard_web/endpoint.ex:1: ShardWeb.Endpoint.plug_builder_call/2
    (shard 0.1.0) deps/plug/lib/plug/debugger.ex:155: ShardWeb.Endpoint."call (overridable 3)"/2

[debug] ** (Ecto.StaleEntryError) attempted to delete a stale struct:

%Shard.Map.Door{__meta__: #Ecto.Schema.Metadata<:loaded, "doors">, id: 154, name: nil, description: nil, direction: "south", is_locked: true, key_required: "Tutorial Key", door_type: "locked_gate", properties: %{}, new_dungeon: false, from_room_id: 10, from_room: #Ecto.Association.NotLoaded<association :from_room is not loaded>, to_room_id: 11, to_room: #Ecto.Association.NotLoaded<association :to_room is not loaded>, inserted_at: ~U[2025-10-30 00:33:15Z], updated_at: ~U[2025-10-30 00:33:15Z]}

This typically happens when the struct no longer exists in the database or a database trigger/rule has forbidden the action. If stale entries are expected, you may use `:stale_error_field` to convert this into a changeset error, or set `:allow_stale` to true if you would like stale operations to be considered a success (such as a stale deletion)

    (ecto 3.13.2) lib/ecto/repo/schema.ex:1023: Ecto.Repo.Schema.apply/4
    (ecto 3.13.2) lib/ecto/repo/schema.ex:721: anonymous fn/13 in Ecto.Repo.Schema.do_delete/4
    (ecto 3.13.2) lib/ecto/repo/schema.ex:407: Ecto.Repo.Schema.delete!/4
    (shard 0.1.0) lib/shard/map.ex:162: anonymous fn/1 in Shard.Map.delete_door/1
    (shard 0.1.0) lib/shard/repo.ex:2: anonymous fn/1 in Shard.Repo.transaction/2
    (ecto 3.13.2) lib/ecto/repo/transaction.ex:7: anonymous fn/2 in Ecto.Repo.Transaction.transact/4
    (ecto_sql 3.13.2) lib/ecto/adapters/sql.ex:1458: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.8.0) lib/db_connection.ex:1753: DBConnection.run_transaction/4
    (shard 0.1.0) lib/shard/items.ex:395: Shard.Items.create_dungeon_door/0
    (shard 0.1.0) lib/shard_web/live/user_live/mud_game_live.ex:397: ShardWeb.MudGameLive.setup_tutorial_door/0
    (shard 0.1.0) lib/shard_web/live/user_live/mud_game_live.ex:374: ShardWeb.MudGameLive.setup_tutorial_content/1
    (shard 0.1.0) lib/shard_web/live/user_live/mud_game_live.ex:25: ShardWeb.MudGameLive.mount/3
    (phoenix_live_view 1.1.8) lib/phoenix_live_view/utils.ex:348: anonymous fn/6 in Phoenix.LiveView.Utils.maybe_call_live_view_mount!/5
    (telemetry 1.3.0) /home/owner/gjbauer-shard/deps/telemetry/src/telemetry.erl:324: :telemetry.span/3
    (phoenix_live_view 1.1.8) lib/phoenix_live_view/static.ex:324: Phoenix.LiveView.Static.call_mount_and_handle_params!/5
    (phoenix_live_view 1.1.8) lib/phoenix_live_view/static.ex:155: Phoenix.LiveView.Static.do_render/4
    (phoenix_live_view 1.1.8) lib/phoenix_live_view/controller.ex:39: Phoenix.LiveView.Controller.live_render/3
    (phoenix 1.8.1) lib/phoenix/router.ex:416: Phoenix.Router.__call__/5
    (shard 0.1.0) lib/shard_web/endpoint.ex:1: ShardWeb.Endpoint.plug_builder_call/2
    (shard 0.1.0) deps/plug/lib/plug/debugger.ex:155: ShardWeb.Endpoint."call (overridable 3)"/2

[info] CONNECTED TO Phoenix.LiveView.Socket in 42Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "Bm84cSUCYi06Ik81MRJyCTAiRQQwFwEXPXzEJV1fOI8wxADY_PulAffb", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "V7B4oTSKukwBIS6Por0hqqgu", "live_socket_id" => "users_sessions:QAYyYzlKV4mDHkKUnDsZgeaqJuC3YxJHG5mJ7ybVUcc=", "user_token" => <<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>}
[debug] QUERY OK source="users_tokens" db=2.1ms queue=0.2ms idle=575.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:33:16.631700Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=4.4ms queue=0.1ms idle=576.4ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=2.6ms queue=0.1ms idle=580.8ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=1.2ms decode=0.9ms queue=0.1ms idle=579.4ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.5ms idle=565.1ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=1.1ms queue=0.1ms idle=562.7ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.4ms idle=562.9ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.7ms idle=562.4ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=1.5ms queue=0.1ms idle=560.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=561.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.9ms idle=21.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.3ms queue=0.2ms idle=17.5ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
DELETE FROM "doors" WHERE "id" = $1 [156]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
DELETE FROM "doors" WHERE "id" = $1 [155]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.7ms queue=0.1ms idle=29.7ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.7ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:33:16Z], ~U[2025-10-30 00:33:16Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.2ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:33:16Z], ~U[2025-10-30 00:33:16Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=3.0ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.5ms idle=39.7ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=2.2ms idle=38.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.2ms idle=39.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=1.2ms idle=41.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.1ms idle=40.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 74ms
[debug] QUERY OK source="rooms" db=0.4ms idle=45.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.3ms idle=43.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.8ms idle=44.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=30.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=20.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.5ms idle=21.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=1.4ms queue=0.1ms idle=1902.8ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:33:43.974970Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.6ms idle=1911.1ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.6ms idle=1912.2ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.6ms idle=1913.2ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.3ms idle=1914.0ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.3ms idle=1913.9ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.6ms idle=1915.7ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.3ms idle=917.2ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=31.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=24.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.5ms idle=15.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.4ms idle=9.4ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [158]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [157]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=11.0ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.5ms queue=0.2ms idle=23.5ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=2.1ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:33:44Z], ~U[2025-10-30 00:33:44Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.6ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:33:44Z], ~U[2025-10-30 00:33:44Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=2.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.7ms queue=0.2ms idle=35.1ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=1.6ms idle=35.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=36.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=37.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms idle=37.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=41.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=40.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=41.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=26.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=15.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=14.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 71ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 32Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "Bn8FOQo1KQobFThBQWIrPWVsdGIGNFAwn8KmslODppz00Zjo-3357x6d", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "hGNTyYfNkeBqq8ARH_GW1LfT", "live_socket_id" => "users_sessions:_LGCKjRaHgzsvS1O9dWlwlCVZq2jKWrQl4QapE8kxVI=", "user_token" => <<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>}
[debug] QUERY OK source="users_tokens" db=2.8ms idle=267.0ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:33:44.286788Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=0.9ms idle=268.6ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.5ms queue=0.1ms idle=269.1ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.6ms idle=268.8ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=3.0ms idle=265.0ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=4.8ms idle=264.0ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.5ms idle=269.8ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.6ms idle=269.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.2ms queue=0.1ms idle=269.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=269.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.5ms idle=13.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.2ms idle=13.0ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [160]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [159]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.6ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.3ms idle=28.1ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.1ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:33:44Z], ~U[2025-10-30 00:33:44Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:33:44Z], ~U[2025-10-30 00:33:44Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=2.6ms queue=0.1ms idle=34.3ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=1.1ms idle=33.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=2.7ms queue=0.1ms idle=33.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=36.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.1ms idle=36.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 63ms
[debug] QUERY OK source="rooms" db=2.3ms queue=0.1ms idle=57.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms queue=0.1ms idle=61.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.7ms queue=0.2ms idle=60.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms idle=48.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=40.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=37.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.9ms queue=0.1ms idle=1547.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.2ms idle=1545.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.1ms queue=0.2ms idle=1545.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.3ms idle=1547.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.2ms idle=1526.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.7ms idle=1523.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.1ms queue=0.3ms idle=1524.9ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.5ms queue=0.1ms idle=1525.1ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=1524.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.4ms queue=0.2ms idle=1525.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 35ms
[debug] QUERY OK source="rooms" db=0.3ms queue=0.2ms idle=17.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=14.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms idle=16.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=13.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.3ms queue=0.1ms idle=13.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=11.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.7ms queue=0.5ms idle=251.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.3ms queue=0.3ms idle=253.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.9ms queue=0.4ms idle=255.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=258.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.7ms queue=0.2ms idle=257.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=5.2ms queue=0.1ms idle=258.9ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=5.0ms queue=0.2ms idle=264.8ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.8ms idle=269.3ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=269.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.4ms queue=0.1ms idle=271.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 32ms
[debug] QUERY OK source="rooms" db=0.6ms idle=30.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.1ms idle=28.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=26.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=24.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.2ms idle=22.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.2ms idle=16.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.3ms queue=0.2ms idle=1340.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.9ms queue=0.2ms idle=1342.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.1ms queue=0.3ms idle=1345.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.5ms idle=1348.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=2.2ms queue=0.2ms idle=1350.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.4ms queue=0.3ms idle=1354.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=2.2ms queue=0.3ms idle=1357.3ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=2.5ms queue=0.4ms idle=1361.8ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.6ms queue=0.3ms idle=1365.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.1ms queue=0.5ms idle=1368.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 32ms
[debug] QUERY OK source="rooms" db=1.3ms idle=30.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.1ms idle=27.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.2ms idle=29.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=26.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=24.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=22.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.9ms queue=0.3ms idle=210.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.3ms queue=0.7ms idle=208.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=2.0ms queue=0.1ms idle=208.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.4ms idle=210.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=2.8ms queue=0.3ms idle=210.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=4.2ms queue=0.2ms idle=211.9ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.9ms queue=0.5ms idle=217.2ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.8ms queue=0.3ms idle=218.0ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=218.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.2ms idle=218.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 29ms
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=27.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.1ms idle=22.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.1ms idle=25.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms queue=0.4ms idle=20.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=18.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=13.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 549Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "a"}}
[debug] Replied in 1ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 475Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "at"}}
[debug] Replied in 742Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 462Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "att"}}
[debug] Replied in 560Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 380Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "atta"}}
[debug] Replied in 515Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "c"}
[debug] Replied in 266Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attac"}}
[debug] Replied in 215Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "k"}
[debug] Replied in 174Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack"}}
[debug] Replied in 230Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "Enter"}
[debug] Replied in 112Âµs
[debug] HANDLE EVENT "submit_command" in ShardWeb.MudGameLive
  Parameters: %{"command" => %{"text" => "attack"}}
[debug] Replied in 247Âµs
Compiling 3 files (.ex)
Compiling 3 files (.ex)
Compiling 2 files (.ex)
Generated shard app
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=0.6ms idle=1777.7ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:35:30.857863Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.4ms idle=1783.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.3ms queue=0.1ms idle=1783.6ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.4ms idle=1784.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.3ms idle=1785.2ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=0.7ms idle=1785.1ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.2ms idle=1786.2ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.3ms idle=1786.8ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=21.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=18.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.3ms idle=10.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.2ms idle=6.3ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [162]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.0ms
DELETE FROM "doors" WHERE "id" = $1 [161]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.2ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms idle=19.6ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.4ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:35:30Z], ~U[2025-10-30 00:35:30Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.3ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:35:30Z], ~U[2025-10-30 00:35:30Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.2ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.2ms idle=22.7ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=22.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=22.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=22.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.2ms idle=22.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=24.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=24.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=24.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.2ms idle=11.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=7.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 9, 11, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=7.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[9, 10, 8, 11, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 45ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 37Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "XxB6ZxovLBYnNntDKHA5EBAHAyJ1Ii8i7W43cvJXLS92YHxBXXDuDnIv", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "hGNTyYfNkeBqq8ARH_GW1LfT", "live_socket_id" => "users_sessions:_LGCKjRaHgzsvS1O9dWlwlCVZq2jKWrQl4QapE8kxVI=", "user_token" => <<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>}
[debug] QUERY OK source="users_tokens" db=0.9ms idle=271.0ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:35:31.153691Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=0.6ms idle=272.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.9ms idle=272.6ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.9ms idle=273.5ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=1.6ms idle=270.6ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=2.0ms idle=272.1ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.5ms idle=273.8ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.2ms queue=0.2ms idle=274.0ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=275.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.3ms idle=276.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.6ms idle=12.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.2ms idle=12.4ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.1ms
DELETE FROM "doors" WHERE "id" = $1 [164]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=2.9ms
DELETE FROM "doors" WHERE "id" = $1 [163]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.8ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms idle=28.4ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=4.6ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:35:31Z], ~U[2025-10-30 00:35:31Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.9ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:35:31Z], ~U[2025-10-30 00:35:31Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.4ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.4ms idle=38.6ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=38.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=39.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=1.6ms idle=38.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.1ms queue=0.1ms idle=38.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 65ms
[debug] QUERY OK source="rooms" db=0.5ms idle=44.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.6ms queue=0.1ms idle=45.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=4.2ms queue=0.5ms idle=43.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=31.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=21.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=21.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=1241.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.1ms idle=1242.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.7ms idle=1241.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=1241.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=1236.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.6ms queue=0.1ms idle=1234.8ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.0ms queue=0.3ms idle=1235.1ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.9ms idle=1235.7ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.3ms queue=0.1ms idle=1235.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.3ms queue=0.1ms idle=1235.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 30ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=2.1ms queue=0.3ms idle=269.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.7ms queue=0.2ms idle=271.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.9ms queue=0.3ms idle=273.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.4ms queue=0.2ms idle=274.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.3ms queue=0.6ms idle=275.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=2.1ms queue=0.5ms idle=275.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=2.1ms queue=0.1ms idle=277.1ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.5ms queue=0.3ms idle=278.6ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.3ms queue=0.2ms idle=280.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.5ms queue=0.4ms idle=282.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 28ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.4ms queue=0.5ms idle=854.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.5ms queue=0.1ms idle=854.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=853.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.3ms idle=852.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.4ms queue=0.3ms idle=852.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.7ms queue=0.8ms idle=851.3ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.7ms queue=0.2ms idle=851.6ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.0ms queue=0.2ms idle=850.6ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.3ms idle=850.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.3ms idle=849.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 22ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.6ms queue=0.1ms idle=273.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.8ms idle=272.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=271.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=269.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.3ms queue=0.2ms idle=267.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.5ms queue=0.1ms idle=265.5ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.3ms queue=0.1ms idle=264.8ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.3ms queue=0.1ms idle=263.8ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.2ms idle=264.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.6ms queue=0.2ms idle=263.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 11ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.5ms queue=0.2ms idle=555.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.1ms idle=556.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=557.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=559.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=560.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.4ms idle=561.3ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.5ms idle=562.3ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.2ms idle=563.1ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.2ms queue=0.1ms idle=564.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.5ms idle=565.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 11ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.5ms queue=0.5ms idle=288.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.7ms queue=0.4ms idle=289.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.1ms queue=0.4ms idle=291.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.2ms idle=293.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.9ms queue=0.3ms idle=294.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.1ms queue=0.3ms idle=295.0ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.7ms queue=0.3ms idle=296.0ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.0ms queue=0.1ms idle=297.0ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.2ms idle=298.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.2ms idle=299.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 24ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.6ms queue=0.2ms idle=261.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.6ms queue=0.5ms idle=261.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.9ms queue=0.1ms idle=262.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.9ms queue=0.1ms idle=262.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.3ms queue=0.3ms idle=262.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.7ms queue=0.2ms idle=262.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.7ms queue=0.4ms idle=262.8ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.7ms queue=0.3ms idle=263.7ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.7ms queue=0.4ms idle=265.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=2.2ms queue=0.3ms idle=265.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 28ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.2ms queue=0.2ms idle=297.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.0ms queue=0.5ms idle=296.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=296.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.2ms idle=294.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=292.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.4ms queue=0.1ms idle=290.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.5ms idle=288.6ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.3ms idle=286.7ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=284.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.3ms idle=281.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 10ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.6ms queue=0.3ms idle=295.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.2ms idle=296.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.9ms queue=0.2ms idle=297.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=299.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.4ms idle=301.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.4ms queue=0.4ms idle=302.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.9ms queue=0.3ms idle=304.4ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.9ms queue=0.3ms idle=306.8ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=308.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.1ms idle=310.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 24ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.4ms queue=0.3ms idle=250.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.4ms idle=251.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.7ms queue=0.4ms idle=250.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=252.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=251.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.7ms queue=0.3ms idle=250.8ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.6ms idle=249.5ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.9ms queue=0.2ms idle=247.7ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.8ms queue=0.3ms idle=248.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.4ms idle=249.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 23ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.1ms queue=0.5ms idle=248.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.4ms idle=248.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=248.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=247.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.6ms queue=0.3ms idle=247.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.8ms queue=0.4ms idle=248.5ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.3ms queue=0.7ms idle=249.0ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.8ms queue=0.1ms idle=250.1ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=248.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.1ms idle=248.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 22ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.6ms queue=0.3ms idle=258.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.2ms idle=259.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.8ms idle=259.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=259.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=258.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.9ms queue=0.1ms idle=258.5ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.1ms queue=0.6ms idle=258.6ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.1ms queue=0.3ms idle=259.8ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.6ms idle=260.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.6ms queue=0.4ms idle=260.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 25ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.4ms queue=0.1ms idle=211.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.3ms queue=0.1ms idle=212.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.0ms queue=0.4ms idle=211.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.6ms queue=0.1ms idle=213.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.4ms queue=0.3ms idle=214.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.9ms queue=0.1ms idle=214.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.9ms queue=0.3ms idle=213.9ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.0ms queue=0.4ms idle=213.6ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.2ms queue=0.4ms idle=213.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.2ms idle=212.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 24ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.2ms queue=0.1ms idle=245.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.2ms idle=244.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.2ms idle=242.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=238.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=236.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.2ms idle=234.5ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.2ms idle=232.8ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.2ms idle=231.0ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.1ms idle=229.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.3ms idle=227.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 4ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.4ms queue=0.7ms idle=265.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.2ms idle=268.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.9ms queue=0.9ms idle=270.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=274.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.4ms queue=0.2ms idle=275.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.5ms queue=0.1ms idle=277.9ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.1ms queue=0.1ms idle=279.7ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.2ms queue=0.7ms idle=281.4ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.9ms queue=0.2ms idle=283.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.6ms queue=0.1ms idle=284.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 25ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.2ms queue=0.4ms idle=251.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.2ms idle=251.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=250.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=249.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.3ms idle=248.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.1ms queue=0.3ms idle=247.5ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.7ms queue=0.2ms idle=247.7ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.6ms queue=0.1ms idle=246.6ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.9ms queue=0.1ms idle=246.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.2ms idle=246.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 18ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.0ms queue=0.4ms idle=308.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.3ms queue=0.3ms idle=308.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=309.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=309.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=309.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.8ms idle=309.2ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.9ms queue=0.5ms idle=309.2ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.7ms queue=0.2ms idle=310.0ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.9ms queue=0.2ms idle=310.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.8ms queue=0.1ms idle=310.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 21ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowDown"}
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=335.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.0ms queue=0.5ms idle=334.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "south"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.9ms queue=0.2ms idle=335.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [4]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=336.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.4ms queue=0.3ms idle=335.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.8ms queue=0.1ms idle=336.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [0, 1]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.7ms queue=0.1ms idle=336.1ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["0,1,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.6ms queue=0.1ms idle=335.8ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["0,1,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.2ms idle=335.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.2ms idle=334.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 20ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowDown"}
[debug] QUERY OK source="rooms" db=0.3ms queue=0.1ms idle=397.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.2ms queue=0.1ms idle=395.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "south"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.2ms idle=394.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [4]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=391.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=389.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.2ms idle=388.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [0, 1]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.1ms idle=387.7ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["0,1,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.1ms idle=386.8ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["0,1,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=385.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.2ms idle=384.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 5ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowLeft"}
[debug] QUERY OK source="rooms" db=0.9ms queue=0.1ms idle=264.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.1ms idle=265.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "west"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.6ms idle=266.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [-1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_position/2, at: lib/shard_web/live/user_live/movement.ex:121[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.7ms idle=268.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=2.1ms queue=0.1ms idle=270.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 12ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowUp"}
[debug] QUERY OK source="rooms" db=0.6ms idle=466.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.0ms queue=0.1ms idle=466.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "north"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=0.2ms queue=0.1ms idle=467.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, -1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_position/2, at: lib/shard_web/live/user_live/movement.ex:121[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=468.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.5ms queue=0.1ms idle=469.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 6ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=494.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.2ms idle=494.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.6ms queue=0.2ms idle=495.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=495.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.2ms queue=0.3ms idle=493.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.6ms queue=0.3ms idle=301.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.6ms queue=0.2ms idle=300.9ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.5ms queue=0.2ms idle=301.6ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.3ms idle=301.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.6ms queue=0.2ms idle=302.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 18ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowDown"}
[debug] QUERY OK source="rooms" db=1.4ms queue=0.6ms idle=131.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.3ms idle=132.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "south"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.9ms queue=0.2ms idle=132.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [4]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=131.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=130.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.8ms idle=130.4ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [0, 1]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.4ms idle=130.2ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["0,1,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.3ms idle=129.8ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["0,1,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=128.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.3ms idle=128.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 16ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowLeft"}
[debug] QUERY OK source="rooms" db=0.9ms queue=0.3ms idle=293.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.1ms queue=0.1ms idle=292.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "west"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=292.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [-1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_position/2, at: lib/shard_web/live/user_live/movement.ex:121[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=292.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.1ms queue=0.1ms idle=293.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 9ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowUp"}
[debug] QUERY OK source="rooms" db=0.9ms queue=0.5ms idle=482.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.2ms idle=484.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "north"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=485.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, -1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_position/2, at: lib/shard_web/live/user_live/movement.ex:121[0m
[debug] QUERY OK source="rooms" db=0.9ms queue=0.1ms idle=487.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.1ms idle=488.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 10ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=304.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.0ms queue=0.3ms idle=303.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.1ms queue=0.2ms idle=304.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=304.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=304.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.8ms queue=0.2ms idle=114.8ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.8ms queue=0.2ms idle=114.5ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.7ms queue=0.3ms idle=114.2ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.2ms idle=114.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.1ms idle=114.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 18ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowDown"}
[debug] QUERY OK source="rooms" db=1.2ms queue=0.2ms idle=189.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.5ms queue=0.3ms idle=190.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "south"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.7ms queue=0.6ms idle=192.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [4]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.4ms queue=0.1ms idle=194.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.4ms idle=195.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.7ms queue=0.5ms idle=196.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [0, 1]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.6ms queue=0.2ms idle=196.6ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["0,1,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.8ms queue=0.2ms idle=196.4ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["0,1,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.2ms idle=196.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.5ms queue=0.2ms idle=196.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 24ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowLeft"}
[debug] QUERY OK source="rooms" db=1.9ms queue=0.2ms idle=309.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.0ms queue=0.3ms idle=310.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "west"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.5ms idle=308.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [-1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_position/2, at: lib/shard_web/live/user_live/movement.ex:121[0m
[debug] QUERY OK source="rooms" db=0.9ms queue=0.3ms idle=307.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.5ms queue=0.4ms idle=306.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 13ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowUp"}
[debug] QUERY OK source="rooms" db=1.3ms queue=0.1ms idle=459.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.6ms queue=1.0ms idle=460.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "north"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=1.5ms queue=0.4ms idle=462.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, -1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_position/2, at: lib/shard_web/live/user_live/movement.ex:121[0m
[debug] QUERY OK source="rooms" db=0.9ms queue=0.2ms idle=463.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.3ms idle=464.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 12ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowDown"}
[debug] QUERY OK source="rooms" db=1.2ms queue=0.2ms idle=489.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=2.3ms queue=0.1ms idle=490.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "south"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.8ms idle=490.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [4]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.1ms queue=0.5ms idle=491.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.2ms queue=0.3ms idle=491.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.0ms queue=0.1ms idle=338.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [0, 1]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.5ms queue=0.3ms idle=337.5ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["0,1,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.6ms queue=0.2ms idle=337.4ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["0,1,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=336.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.1ms idle=336.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 23ms
Compiling 1 file (.ex)
Generated shard app
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1918.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:39:29.063807Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.4ms idle=1927.5ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.4ms queue=0.3ms idle=1928.2ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=1.1ms idle=1929.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.7ms idle=930.8ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.3ms idle=930.7ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.5ms idle=932.7ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.4ms queue=0.2ms idle=933.4ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=27.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=24.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.5ms idle=17.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=1.4ms idle=10.2ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
DELETE FROM "doors" WHERE "id" = $1 [166]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.3ms
DELETE FROM "doors" WHERE "id" = $1 [165]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=35.8ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.1ms idle=49.8ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.9ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:39:29Z], ~U[2025-10-30 00:39:29Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:39:29Z], ~U[2025-10-30 00:39:29Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.2ms idle=54.3ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=53.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=53.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=53.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.3ms idle=53.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=56.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.7ms idle=54.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.8ms queue=0.5ms idle=55.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=18.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=13.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=13.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 88ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 29Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "XTYUMBQ8HAQhAiwWR3YLNgEKcmNzfVMg5qZdmezJJgng6NJdIU54B15t", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "hGNTyYfNkeBqq8ARH_GW1LfT", "live_socket_id" => "users_sessions:_LGCKjRaHgzsvS1O9dWlwlCVZq2jKWrQl4QapE8kxVI=", "user_token" => <<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>}
[debug] QUERY OK source="users_tokens" db=0.8ms idle=430.5ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:39:29.556182Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=1.8ms idle=430.9ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.1ms idle=433.4ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.5ms idle=434.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.7ms queue=0.1ms idle=439.5ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=2.0ms queue=0.1ms idle=439.8ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=1.3ms idle=439.4ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.6ms idle=439.3ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=1.2ms queue=0.1ms idle=439.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=441.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.6ms idle=24.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.1ms queue=0.1ms idle=22.6ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.6ms
DELETE FROM "doors" WHERE "id" = $1 [168]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
DELETE FROM "doors" WHERE "id" = $1 [167]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.4ms idle=36.4ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.4ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:39:29Z], ~U[2025-10-30 00:39:29Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.8ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:39:29Z], ~U[2025-10-30 00:39:29Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=2.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.3ms queue=0.6ms idle=48.6ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=39.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=40.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=40.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=3.2ms queue=0.1ms idle=40.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 78ms
[debug] QUERY OK source="rooms" db=0.8ms idle=52.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.3ms idle=51.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.4ms idle=52.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=39.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.1ms idle=27.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.3ms idle=25.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.2ms idle=765.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.5ms idle=765.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=763.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.4ms idle=761.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=750.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.0ms idle=749.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.1ms idle=750.7ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.4ms queue=0.1ms idle=749.7ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=749.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.2ms idle=750.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 11ms
[debug] QUERY OK source="rooms" db=0.1ms idle=10.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=10.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=9.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=8.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=9.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=8.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.0ms queue=0.4ms idle=415.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.1ms idle=416.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.3ms queue=0.1ms idle=417.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=419.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.2ms idle=420.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.2ms queue=0.1ms idle=421.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.9ms queue=0.2ms idle=424.2ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=2.5ms queue=0.1ms idle=426.0ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=428.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=2.4ms queue=0.1ms idle=430.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 25ms
[debug] QUERY OK source="rooms" db=0.9ms queue=0.1ms idle=24.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.5ms idle=24.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.4ms idle=23.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.1ms idle=23.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.1ms idle=23.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=21.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=4.4ms queue=0.1ms idle=1804.0ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:39:35.949059Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=1.3ms queue=0.1ms idle=1814.1ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.6ms queue=0.1ms idle=1816.0ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.8ms idle=1818.7ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.6ms idle=1820.2ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=1.7ms queue=0.1ms idle=1820.1ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=1.7ms queue=0.1ms idle=1823.2ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.4ms queue=0.2ms idle=1825.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=52.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=39.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.5ms queue=0.1ms idle=19.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.2ms idle=13.3ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [170]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
DELETE FROM "doors" WHERE "id" = $1 [169]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=12.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms idle=27.2ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.6ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:39:35Z], ~U[2025-10-30 00:39:35Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.0ms decode=0.6ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:39:35Z], ~U[2025-10-30 00:39:35Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.6ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.3ms queue=0.1ms idle=38.0ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=37.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=37.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=35.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.6ms idle=35.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=42.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=43.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.7ms idle=42.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=27.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=16.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=15.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 82ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 50Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "LAAPYD0lNT0BLgV6IWVEMRkGeRkXQTQxz7MTRqfvtEr8h6ravtIqf0SD", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "V7B4oTSKukwBIS6Por0hqqgu", "live_socket_id" => "users_sessions:QAYyYzlKV4mDHkKUnDsZgeaqJuC3YxJHG5mJ7ybVUcc=", "user_token" => <<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>}
[debug] QUERY OK source="users_tokens" db=3.4ms idle=359.0ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:39:36.352284Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=0.6ms idle=362.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.3ms queue=0.1ms idle=364.0ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=2.1ms idle=364.9ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.6ms queue=1.5ms idle=358.6ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=3.0ms queue=0.1ms idle=360.0ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.9ms idle=362.0ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.4ms queue=0.2ms idle=361.9ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=362.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.5ms idle=362.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.6ms idle=17.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.5ms idle=17.8ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [172]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
DELETE FROM "doors" WHERE "id" = $1 [171]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.6ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.1ms idle=28.2ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:39:36Z], ~U[2025-10-30 00:39:36Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:39:36Z], ~U[2025-10-30 00:39:36Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.2ms idle=31.4ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=2.7ms idle=29.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=1.9ms idle=31.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=3.3ms idle=34.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.9ms idle=37.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 74ms
[debug] QUERY OK source="rooms" db=1.0ms idle=48.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms idle=47.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.6ms queue=0.1ms idle=48.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=36.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=32.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=31.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.3ms idle=1047.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.3ms idle=1044.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.4ms idle=1040.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=1041.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.2ms idle=1030.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.8ms queue=0.1ms idle=1029.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.3ms idle=1030.2ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.5ms idle=1028.6ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=1028.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.3ms idle=1028.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 19ms
[debug] QUERY OK source="rooms" db=0.2ms queue=0.1ms idle=13.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.7ms idle=13.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=12.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.2ms idle=12.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=10.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=9.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=2.2ms queue=0.2ms idle=448.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=2.4ms queue=0.2ms idle=450.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.9ms queue=0.1ms idle=453.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=456.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.3ms idle=454.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.4ms queue=0.1ms idle=456.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.7ms queue=0.1ms idle=458.2ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=2.6ms queue=0.1ms idle=459.8ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.2ms idle=462.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.4ms queue=0.4ms idle=464.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 28ms
[debug] QUERY OK source="rooms" db=0.6ms queue=0.1ms idle=25.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.1ms idle=21.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.8ms idle=23.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=20.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=17.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=19.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "Shift"}
[debug] Replied in 458Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "A"}
[debug] Replied in 162Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "A"}}
[debug] Replied in 176Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "Backspace"}
[debug] Replied in 838Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => ""}}
[debug] Replied in 2ms
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 181Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "a"}}
[debug] Replied in 219Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 499Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "at"}}
[debug] Replied in 486Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 387Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "att"}}
[debug] Replied in 451Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 530Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "atta"}}
[debug] Replied in 518Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "c"}
[debug] Replied in 469Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attac"}}
[debug] Replied in 563Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "k"}
[debug] Replied in 453Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack"}}
[debug] Replied in 355Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "Enter"}
[debug] Replied in 411Âµs
[debug] HANDLE EVENT "submit_command" in ShardWeb.MudGameLive
  Parameters: %{"command" => %{"text" => "attack"}}
[debug] Replied in 288Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 220Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "a"}}
[debug] Replied in 227Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 441Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "at"}}
[debug] Replied in 592Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 480Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "att"}}
[debug] Replied in 587Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 563Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "atta"}}
[debug] Replied in 499Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "c"}
[debug] Replied in 454Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attac"}}
[debug] Replied in 590Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "k"}
[debug] Replied in 313Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack"}}
[debug] Replied in 450Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "Enter"}
[debug] Replied in 582Âµs
[debug] HANDLE EVENT "submit_command" in ShardWeb.MudGameLive
  Parameters: %{"command" => %{"text" => "attack"}}
[debug] Replied in 215Âµs
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
Done in 2ms
Done in 1ms
Done in 860Âµs
Compiling 5 files (.ex)
Generated shard app
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=1.5ms queue=0.9ms idle=1925.6ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:41:33.104409Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.7ms idle=1925.8ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.7ms queue=0.4ms idle=1926.9ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.4ms idle=1928.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.3ms queue=0.4ms idle=932.8ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=1.1ms queue=0.1ms idle=1929.2ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.8ms idle=932.0ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.6ms idle=933.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=2.3ms idle=59.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=46.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.7ms idle=13.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.3ms idle=13.0ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [174]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [173]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=1.7ms idle=25.9ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.8ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:41:33Z], ~U[2025-10-30 00:41:33Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.8ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:41:33Z], ~U[2025-10-30 00:41:33Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=6.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=1.1ms idle=40.7ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=1.0ms idle=41.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=4.6ms queue=0.5ms idle=42.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=46.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.1ms queue=0.3ms idle=47.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=2.9ms idle=80.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.8ms idle=81.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.1ms queue=0.1ms idle=83.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.7ms idle=70.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=63.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=62.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 139ms
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=0.9ms idle=253.0ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:41:33.413646Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=1.9ms idle=257.5ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=2.0ms queue=0.1ms idle=222.1ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.5ms idle=221.5ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=2.3ms queue=0.2ms idle=222.3ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=0.9ms queue=0.1ms idle=223.9ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.9ms idle=217.1ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=2.0ms queue=0.1ms idle=220.3ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=69.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.3ms queue=0.1ms idle=53.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=4.3ms queue=1.7ms idle=25.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.2ms idle=23.8ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
DELETE FROM "doors" WHERE "id" = $1 [176]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [175]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.6ms idle=34.9ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:41:33Z], ~U[2025-10-30 00:41:33Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:41:33Z], ~U[2025-10-30 00:41:33Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.6ms idle=40.5ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=1.9ms idle=38.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=39.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=38.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.4ms idle=35.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=41.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.5ms idle=41.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms queue=1.2ms idle=35.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.1ms idle=24.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=17.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=3.7ms idle=18.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 97ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 35Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "NGYjUBkiFzpAKTpvIQwbPyYYdh80C18jbQadvvDq5BM-h_-oIjFwEz8V", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "V7B4oTSKukwBIS6Por0hqqgu", "live_socket_id" => "users_sessions:QAYyYzlKV4mDHkKUnDsZgeaqJuC3YxJHG5mJ7ybVUcc=", "user_token" => <<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=307.0ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:41:33.770004Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=1.3ms idle=307.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.4ms idle=307.4ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=1.7ms idle=307.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.8ms idle=303.2ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.2ms idle=301.0ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.4ms queue=0.1ms idle=302.0ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=3.0ms idle=301.5ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=1.2ms idle=305.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=304.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=1.6ms idle=17.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.4ms idle=19.6ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
DELETE FROM "doors" WHERE "id" = $1 [178]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [177]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=4.2ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.3ms idle=26.8ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=4.1ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:41:33Z], ~U[2025-10-30 00:41:33Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:41:33Z], ~U[2025-10-30 00:41:33Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=4.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.6ms idle=37.2ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=1.7ms idle=36.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=38.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=38.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.3ms idle=35.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 61ms
[debug] QUERY OK source="rooms" db=0.5ms idle=38.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.6ms idle=38.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.2ms queue=0.1ms idle=37.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=30.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=18.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=17.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] CONNECTED TO Phoenix.LiveView.Socket in 36Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "IDIJZyEjDzQfHBJIOXQ2Bx0HJjN6A0sxHuG3XziztyP9HLwUUXadKO-e", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "hGNTyYfNkeBqq8ARH_GW1LfT", "live_socket_id" => "users_sessions:_LGCKjRaHgzsvS1O9dWlwlCVZq2jKWrQl4QapE8kxVI=", "user_token" => <<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>}
[debug] QUERY OK source="users_tokens" db=2.0ms queue=0.1ms idle=332.1ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:41:34.147779Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=1.1ms queue=0.2ms idle=334.5ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.4ms idle=336.0ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=4.4ms idle=337.4ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=2.9ms queue=0.6ms idle=335.7ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=0.7ms queue=0.1ms idle=337.8ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=1.0ms idle=337.2ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.8ms queue=0.4ms idle=337.0ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.1ms idle=339.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=340.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=1.7ms idle=24.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.3ms idle=24.2ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [180]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
DELETE FROM "doors" WHERE "id" = $1 [179]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.4ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=1.2ms queue=0.1ms idle=36.0ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:41:34Z], ~U[2025-10-30 00:41:34Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=2.7ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:41:34Z], ~U[2025-10-30 00:41:34Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=1.2ms idle=45.6ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=3.1ms idle=42.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.3ms idle=44.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=1.1ms idle=44.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.6ms queue=0.3ms idle=44.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 89ms
[debug] QUERY OK source="rooms" db=0.8ms idle=72.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.9ms queue=1.1ms idle=71.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=3.6ms queue=1.0ms idle=72.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=3.0ms idle=61.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=2.2ms queue=0.4ms idle=51.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=1.6ms queue=0.3ms idle=50.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.4ms idle=1969.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=0.2ms idle=1970.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.6ms idle=1971.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=1973.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.3ms queue=0.2ms idle=1973.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.4ms idle=1975.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.5ms queue=0.1ms idle=1975.9ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.4ms idle=1976.8ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.2ms queue=0.1ms idle=977.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.6ms idle=978.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 18ms
[debug] QUERY OK source="rooms" db=1.0ms idle=11.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=11.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.7ms idle=12.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=11.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=11.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=10.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.0ms queue=0.3ms idle=257.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.5ms queue=0.4ms idle=259.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.1ms queue=0.3ms idle=260.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=263.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.3ms idle=261.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.4ms queue=0.1ms idle=262.8ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.4ms queue=0.4ms idle=264.6ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.0ms queue=0.2ms idle=266.2ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.9ms queue=0.3ms idle=267.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms queue=0.5ms idle=269.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 24ms
[debug] QUERY OK source="rooms" db=0.5ms queue=0.5ms idle=23.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.4ms idle=22.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.6ms queue=0.1ms idle=20.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.4ms idle=21.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=22.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=20.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
Done in 1ms
Compiling 2 files (.ex)
Generated shard app
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=1.0ms idle=1062.8ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:48:37.299425Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.3ms idle=1064.4ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.4ms idle=1065.0ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=1.0ms queue=0.1ms idle=65.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.5ms idle=67.0ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=1.3ms idle=66.8ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.5ms queue=0.1ms idle=68.5ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.6ms idle=69.4ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=35.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=30.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=1.7ms idle=12.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.9ms queue=0.1ms idle=13.4ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.9ms
DELETE FROM "doors" WHERE "id" = $1 [182]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
DELETE FROM "doors" WHERE "id" = $1 [181]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=36.0ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms queue=0.1ms idle=54.2ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.8ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:48:37Z], ~U[2025-10-30 00:48:37Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=2.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.8ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:48:37Z], ~U[2025-10-30 00:48:37Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=4.6ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.4ms queue=0.4ms idle=65.6ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=65.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=65.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=66.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.6ms idle=66.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=76.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.5ms queue=0.1ms idle=89.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=87.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms queue=0.1ms idle=64.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=52.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=51.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 148ms
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=1.3ms queue=0.1ms idle=79.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:48:37.453039Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=1.0ms queue=0.1ms idle=84.2ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.1ms idle=73.9ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=1.3ms queue=0.2ms idle=59.4ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.5ms queue=0.1ms idle=61.0ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.7ms idle=43.4ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.8ms idle=44.6ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.0ms idle=45.2ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.1ms idle=30.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=30.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.5ms idle=16.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.1ms idle=12.0ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
DELETE FROM "doors" WHERE "id" = $1 [184]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
DELETE FROM "doors" WHERE "id" = $1 [183]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=11.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.6ms idle=24.3ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:48:37Z], ~U[2025-10-30 00:48:37Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.1ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:48:37Z], ~U[2025-10-30 00:48:37Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=1.7ms idle=31.2ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=32.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=32.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=1.1ms idle=32.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.5ms idle=32.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.4ms idle=33.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.2ms queue=0.1ms idle=35.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=35.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=23.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=16.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.5ms idle=14.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 64ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 33Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "YnY6YyQfZjEULSUOEDV_OlcnXzBCGg8j4AxWKK5zaFRLYfIj8UoX3khV", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "V7B4oTSKukwBIS6Por0hqqgu", "live_socket_id" => "users_sessions:QAYyYzlKV4mDHkKUnDsZgeaqJuC3YxJHG5mJ7ybVUcc=", "user_token" => <<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>}
[debug] QUERY OK source="users_tokens" db=1.8ms idle=303.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:48:37.797016Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=0.9ms idle=304.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=1.0ms idle=303.9ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.3ms idle=304.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.3ms queue=0.6ms idle=303.8ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.5ms idle=301.4ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.4ms queue=0.1ms idle=302.9ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=2.0ms idle=301.9ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=302.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.7ms idle=303.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.7ms decode=0.2ms idle=14.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.6ms idle=14.1ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
DELETE FROM "doors" WHERE "id" = $1 [186]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
DELETE FROM "doors" WHERE "id" = $1 [185]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=1.4ms idle=26.6ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.6ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:48:37Z], ~U[2025-10-30 00:48:37Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.9ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:48:37Z], ~U[2025-10-30 00:48:37Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=2.0ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.9ms queue=0.1ms idle=36.1ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=36.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=36.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.2ms idle=36.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.4ms idle=35.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 58ms
[debug] QUERY OK source="rooms" db=0.9ms idle=42.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=41.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=2.2ms idle=42.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=30.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.2ms idle=21.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=20.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=0.6ms idle=351.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:48:38.200732Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.2ms idle=353.4ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.3ms idle=345.1ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.3ms idle=344.2ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.3ms idle=341.6ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=0.5ms idle=343.6ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.4ms idle=340.3ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.2ms idle=340.8ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.1ms idle=16.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.1ms idle=13.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.3ms idle=6.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.1ms idle=4.7ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.1ms
DELETE FROM "doors" WHERE "id" = $1 [188]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.0ms
DELETE FROM "doors" WHERE "id" = $1 [187]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.6ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms queue=0.1ms idle=16.0ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.3ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:48:38Z], ~U[2025-10-30 00:48:38Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.3ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:48:38Z], ~U[2025-10-30 00:48:38Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.8ms idle=19.3ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=19.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=20.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.2ms idle=20.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.3ms idle=20.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=23.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=23.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=23.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.3ms idle=12.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=9.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=8.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 40ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 28Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "IRgNHzoPUXcPNARJQQ4wZjAXFjEAIQVjI_CKCV79dQF806q4xHQf1mc7", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "hGNTyYfNkeBqq8ARH_GW1LfT", "live_socket_id" => "users_sessions:_LGCKjRaHgzsvS1O9dWlwlCVZq2jKWrQl4QapE8kxVI=", "user_token" => <<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>}
[debug] QUERY OK source="users_tokens" db=2.2ms idle=188.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:48:38.412022Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=0.6ms queue=0.1ms idle=191.0ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.5ms idle=190.9ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.4ms idle=191.2ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.3ms idle=189.3ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=0.5ms idle=188.4ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.4ms idle=189.3ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.7ms idle=189.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=189.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=189.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.3ms idle=7.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.1ms idle=6.9ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
DELETE FROM "doors" WHERE "id" = $1 [190]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
DELETE FROM "doors" WHERE "id" = $1 [189]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.9ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.1ms idle=19.2ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.3ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:48:38Z], ~U[2025-10-30 00:48:38Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:48:38Z], ~U[2025-10-30 00:48:38Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.4ms idle=22.7ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=22.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=23.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=23.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.4ms idle=22.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 41ms
[debug] QUERY OK source="rooms" db=0.3ms idle=31.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=31.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=31.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.2ms idle=19.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=15.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=15.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=1.9ms queue=0.1ms idle=954.7ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:48:49.196132Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=1.2ms queue=0.1ms idle=966.9ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.8ms idle=969.7ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.6ms idle=970.9ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.5ms idle=972.1ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=0.5ms idle=971.9ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.6ms idle=972.8ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.0ms idle=973.6ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=1.1ms idle=45.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.2ms idle=39.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.7ms idle=22.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=2.0ms queue=0.1ms idle=12.1ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=1.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.2ms
DELETE FROM "doors" WHERE "id" = $1 [192]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.0ms
DELETE FROM "doors" WHERE "id" = $1 [191]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=35.8ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms queue=0.4ms idle=53.0ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:48:49Z], ~U[2025-10-30 00:48:49Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:48:49Z], ~U[2025-10-30 00:48:49Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.6ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.4ms idle=59.4ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.6ms idle=58.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=59.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=59.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.5ms idle=58.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=1.0ms queue=0.1ms idle=60.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=60.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=59.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.3ms idle=17.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=2.0ms idle=11.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=2.1ms idle=11.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 108ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 44Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "e3E4XDoMEX8BRjMpBQVzE141QAQlPjUa-FzhUXB4t-DkLVEC1GplTORo", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "V7B4oTSKukwBIS6Por0hqqgu", "live_socket_id" => "users_sessions:QAYyYzlKV4mDHkKUnDsZgeaqJuC3YxJHG5mJ7ybVUcc=", "user_token" => <<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>}
[debug] QUERY OK source="users_tokens" db=1.2ms idle=304.0ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:48:49.567761Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=1.3ms queue=0.1ms idle=305.2ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.4ms idle=306.9ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.8ms idle=306.7ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="character_inventories" db=0.4ms idle=303.1ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="hotbar_slots" db=1.4ms idle=304.5ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=1.4ms idle=305.2ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.4ms queue=0.5ms idle=306.1ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=305.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=305.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.1ms idle=13.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.5ms idle=12.9ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [194]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.2ms
DELETE FROM "doors" WHERE "id" = $1 [193]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.4ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms idle=26.1ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=1.4ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:48:49Z], ~U[2025-10-30 00:48:49Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.2ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:48:49Z], ~U[2025-10-30 00:48:49Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=2.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.3ms idle=35.9ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=35.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=35.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=1.8ms idle=34.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.3ms queue=0.2ms idle=35.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 69ms
[debug] QUERY OK source="rooms" db=4.8ms idle=41.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.1ms idle=45.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.3ms queue=0.1ms idle=44.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms idle=32.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=23.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=23.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=0.8ms queue=0.3ms idle=1575.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=2.1ms queue=0.1ms idle=1575.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.6ms idle=1576.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=1576.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.3ms queue=0.2ms idle=1567.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=2.3ms queue=0.1ms idle=1566.3ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=0.3ms queue=0.1ms idle=1568.2ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.8ms queue=0.4ms idle=1566.6ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=1566.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.1ms idle=1566.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 40ms
[debug] QUERY OK source="rooms" db=0.6ms queue=0.1ms idle=17.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=15.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=14.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=14.3ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.2ms queue=0.1ms idle=11.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.3ms queue=0.1ms idle=14.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=2.0ms queue=0.1ms idle=214.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.3ms queue=0.1ms idle=216.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=216.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=1.2ms queue=0.1ms idle=219.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=2.0ms queue=0.1ms idle=218.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=1.6ms queue=0.3ms idle=219.8ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.4ms queue=0.2ms idle=222.2ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.5ms queue=0.2ms idle=223.1ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=1.1ms queue=0.2ms idle=224.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.6ms queue=0.1ms idle=226.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 24ms
[debug] QUERY OK source="rooms" db=0.4ms queue=0.2ms idle=23.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms queue=0.1ms idle=21.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms queue=0.3ms idle=19.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.6ms idle=17.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=16.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=13.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.3ms queue=1.2ms idle=925.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=2.0ms queue=0.3ms idle=929.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [3, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=0.5ms queue=0.1ms idle=931.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=933.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=933.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.4ms idle=934.4ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [1, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.1ms idle=935.3ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["1,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=0.9ms queue=0.1ms idle=936.7ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["1,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=937.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.4ms idle=938.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [6]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 14ms
[debug] QUERY OK source="rooms" db=0.2ms idle=11.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=9.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=7.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=8.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=7.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=8.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "ArrowRight"}
[debug] QUERY OK source="rooms" db=1.1ms queue=0.1ms idle=225.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:131[0m
[debug] QUERY OK source="doors" db=1.6ms queue=0.1ms idle=225.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [6, "east"]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:152[0m
Moving through standard door
[debug] QUERY OK source="rooms" db=1.7ms queue=0.3ms idle=227.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.valid_movement/3, at: lib/shard_web/live/user_live/movement.ex:169[0m
[debug] QUERY OK source="rooms" db=0.8ms idle=230.5ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [1, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:41[0m
[debug] QUERY OK source="rooms" db=0.8ms queue=0.1ms idle=231.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:42[0m
[debug] QUERY OK source="npcs" db=0.5ms queue=0.3ms idle=232.0ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = $1) AND (n0."location_y" = $2)) AND (n0."is_active" = TRUE)) [2, 0]
[90mâ†³ ShardWeb.UserLive.Movement.execute_movement/2, at: lib/shard_web/live/user_live/movement.ex:45[0m
[debug] QUERY OK source="room_items" db=1.3ms queue=0.1ms idle=233.6ms
SELECT i1."name", i1."description", i1."item_type", r0."quantity" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = $1) AND ((i1."is_active" IS NULL) OR (i1."is_active" = TRUE)) ["2,0,0"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:294[0m
[debug] QUERY OK source="items" db=1.0ms queue=0.1ms idle=234.6ms
SELECT i0."name", i0."description", i0."item_type" FROM "items" AS i0 WHERE (((i0."location" = $1) AND ((i0."map" = $2) OR (i0."map" IS NULL))) AND ((i0."is_active" IS NULL) OR (i0."is_active" = TRUE))) ["2,0,0", "tutorial_terrain"]
[90mâ†³ ShardWeb.UserLive.Movement.get_items_at_location/3, at: lib/shard_web/live/user_live/movement.ex:309[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.3ms idle=235.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=1.0ms queue=0.2ms idle=237.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 21ms
[debug] QUERY OK source="rooms" db=0.6ms queue=0.3ms idle=19.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms idle=19.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.8ms idle=15.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.7ms idle=16.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms queue=0.1ms idle=16.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=15.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 515Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "a"}}
[debug] Replied in 656Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 536Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "at"}}
[debug] Replied in 408Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 431Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "att"}}
[debug] Replied in 417Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 391Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "atta"}}
[debug] Replied in 594Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "c"}
[debug] Replied in 334Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attac"}}
[debug] Replied in 364Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "k"}
[debug] Replied in 337Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack"}}
[debug] Replied in 289Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "Enter"}
[debug] Replied in 147Âµs
[debug] HANDLE EVENT "submit_command" in ShardWeb.MudGameLive
  Parameters: %{"command" => %{"text" => "attack"}}
[debug] Replied in 210Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 154Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "a"}}
[debug] Replied in 167Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 390Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "at"}}
[debug] Replied in 415Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "t"}
[debug] Replied in 387Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "att"}}
[debug] Replied in 523Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "a"}
[debug] Replied in 430Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "atta"}}
[debug] Replied in 444Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "c"}
[debug] Replied in 453Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attac"}}
[debug] Replied in 368Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "k"}
[debug] Replied in 421Âµs
[debug] HANDLE EVENT "update_command" in ShardWeb.MudGameLive
  Parameters: %{"_target" => ["command", "text"], "command" => %{"text" => "attack"}}
[debug] Replied in 436Âµs
[debug] HANDLE EVENT "keypress" in ShardWeb.MudGameLive
  Parameters: %{"key" => "Enter"}
[debug] Replied in 484Âµs
[debug] HANDLE EVENT "submit_command" in ShardWeb.MudGameLive
  Parameters: %{"command" => %{"text" => "attack"}}
[debug] Replied in 225Âµs
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
[debug] Live reload: lib/shard_web/live/user_live/commands1.ex
Done in 5ms
Compiling 2 files (.ex)
Generated shard app
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1296.7ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:55:11.600309Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.5ms idle=1302.4ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.6ms queue=0.9ms idle=1303.2ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.8ms idle=1305.1ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.6ms queue=0.1ms idle=308.8ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=1.7ms queue=0.2ms idle=308.9ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.3ms idle=311.1ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.7ms idle=311.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=34.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.2ms queue=0.1ms idle=27.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.2ms queue=0.2ms idle=14.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.2ms idle=10.1ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.5ms
DELETE FROM "doors" WHERE "id" = $1 [196]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [195]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=36.1ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.4ms queue=0.1ms idle=47.7ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.4ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:55:11Z], ~U[2025-10-30 00:55:11Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.3ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:55:11Z], ~U[2025-10-30 00:55:11Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=2.4ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.4ms idle=52.3ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=1.2ms idle=51.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=51.7ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=51.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms idle=51.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=54.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=54.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.2ms idle=53.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=16.1ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=11.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=11.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 85ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 44Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "E1AudzYiAB0WPiQJMWNSHycAQiwhPgMlEglCYvSVcUSKx0dOHrrDPOdP", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "1", "character_name" => "player", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "V7B4oTSKukwBIS6Por0hqqgu", "live_socket_id" => "users_sessions:QAYyYzlKV4mDHkKUnDsZgeaqJuC3YxJHG5mJ7ybVUcc=", "user_token" => <<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>}
[debug] QUERY OK source="users_tokens" db=1.8ms queue=0.3ms idle=267.3ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<64, 6, 50, 99, 57, 74, 87, 137, 131, 30, 66, 148, 156, 59, 25, 129, 230, 170, 38, 224, 183, 99, 18, 71, 27, 153, 137, 239, 38, 213, 81, 199>>, "session", ~U[2025-10-30 00:55:11.927103Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=2.8ms queue=1.4ms idle=269.5ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.7ms queue=0.1ms idle=273.5ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.9ms idle=273.9ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.5ms queue=0.4ms idle=273.5ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=0.8ms queue=0.5ms idle=272.6ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [1]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.8ms idle=274.6ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=1.7ms idle=274.2ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.4ms idle=276.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=277.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=1.0ms idle=19.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.6ms idle=15.1ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [198]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [197]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.8ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.5ms idle=28.7ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.9ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:55:11Z], ~U[2025-10-30 00:55:11Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.8ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:55:11Z], ~U[2025-10-30 00:55:11Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.7ms queue=0.1ms idle=36.1ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.7ms idle=34.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=7.1ms queue=0.1ms idle=35.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=41.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.7ms queue=0.1ms idle=40.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 74ms
[debug] QUERY OK source="rooms" db=0.7ms idle=60.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=61.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.2ms idle=60.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.9ms idle=49.0ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.5ms queue=0.1ms idle=46.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=2.7ms idle=45.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] GET /play/tutorial_terrain
[debug] Processing with ShardWeb.MudGameLive.__live__/0
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Pipelines: [:browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=0.5ms queue=0.1ms idle=444.8ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:55:12.433687Z]]
[90mâ†³ ShardWeb.UserAuth.fetch_current_scope_for_user/2, at: lib/shard_web/user_auth.ex:76[0m
[debug] QUERY OK source="characters" db=0.4ms queue=0.2ms idle=449.6ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.4ms queue=0.1ms idle=427.6ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.3ms idle=426.6ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=1.0ms idle=426.9ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=0.9ms queue=0.4ms idle=423.6ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.5ms idle=419.7ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.4ms queue=0.1ms idle=418.3ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.5ms idle=35.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.7ms queue=0.1ms idle=24.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.6ms idle=13.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.2ms queue=0.1ms idle=8.7ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.5ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.6ms
DELETE FROM "doors" WHERE "id" = $1 [200]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.3ms
DELETE FROM "doors" WHERE "id" = $1 [199]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=10.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.2ms queue=0.1ms idle=21.5ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.7ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:55:12Z], ~U[2025-10-30 00:55:12Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.4ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=1.0ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:55:12Z], ~U[2025-10-30 00:55:12Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.7ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.3ms idle=27.8ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=26.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=27.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.2ms queue=0.1ms idle=27.0ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.3ms idle=26.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=28.1ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.3ms idle=26.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.5ms idle=27.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.5ms idle=15.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=9.4ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=8.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[info] Sent 200 in 55ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 24Âµs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "EgU_ABwuLyUxHxU4PQ05FQ8MCgYGfix5zBqTewIkZzWIL5xGGSMQ72J-", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4000/assets/css/app.css", "1" => "http://localhost:4000/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT ShardWeb.MudGameLive
  Parameters: %{"character_id" => "2", "character_name" => "player2", "map_id" => "tutorial_terrain"}
  Session: %{"_csrf_token" => "hGNTyYfNkeBqq8ARH_GW1LfT", "live_socket_id" => "users_sessions:_LGCKjRaHgzsvS1O9dWlwlCVZq2jKWrQl4QapE8kxVI=", "user_token" => <<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>}
[debug] QUERY OK source="users_tokens" db=0.6ms idle=171.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."admin", u1."inserted_at", u1."updated_at", u0."authenticated_at", u0."inserted_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(14)::numeric * interval '1 day')) [<<252, 177, 130, 42, 52, 90, 30, 12, 236, 189, 45, 78, 245, 213, 165, 194, 80, 149, 102, 173, 163, 41, 106, 208, 151, 132, 26, 164, 79, 36, 197, 82>>, "session", ~U[2025-10-30 00:55:12.641192Z]]
[90mâ†³ ShardWeb.UserAuth.get_user_by_token/1, at: lib/shard_web/user_auth.ex:314[0m
[debug] QUERY OK source="characters" db=0.3ms idle=172.2ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ Shard.Characters.get_character!/1, at: lib/shard/characters.ex:40[0m
[debug] QUERY OK source="users" db=0.4ms idle=172.2ms
SELECT u0."id", u0."email", u0."hashed_password", u0."confirmed_at", u0."admin", u0."inserted_at", u0."updated_at", u0."id" FROM "users" AS u0 WHERE (u0."id" = $1) [1]
[90mâ†³ ShardWeb.MudGameLive.get_character_from_params/1, at: lib/shard_web/live/user_live/mud_game_live.ex:344[0m
[debug] QUERY OK source="characters" db=0.3ms queue=0.4ms idle=172.3ms
SELECT c0."id", c0."name", c0."level", c0."class", c0."race", c0."health", c0."mana", c0."strength", c0."dexterity", c0."intelligence", c0."constitution", c0."experience", c0."gold", c0."location", c0."description", c0."is_active", c0."user_id", c0."inserted_at", c0."updated_at" FROM "characters" AS c0 WHERE (c0."id" = $1) [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:362[0m
[debug] QUERY OK source="hotbar_slots" db=0.4ms idle=169.3ms
SELECT h0."id", h0."slot_number", h0."character_id", h0."item_id", h0."inventory_id", h0."inserted_at", h0."updated_at", h0."character_id" FROM "hotbar_slots" AS h0 WHERE (h0."character_id" = $1) ORDER BY h0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="character_inventories" db=0.8ms idle=171.1ms
SELECT c0."id", c0."quantity", c0."slot_position", c0."equipped", c0."equipment_slot", c0."character_id", c0."item_id", c0."inserted_at", c0."updated_at", c0."character_id" FROM "character_inventories" AS c0 WHERE (c0."character_id" = $1) ORDER BY c0."character_id" [2]
[90mâ†³ ShardWeb.MudGameLive.load_character_with_associations/1, at: lib/shard_web/live/user_live/mud_game_live.ex:363[0m
[debug] QUERY OK source="room_items" db=0.4ms idle=170.3ms
SELECT r0."id", r0."location", r0."quantity", r0."x_position", r0."y_position", r0."respawn_timer", r0."is_permanent", r0."item_id", r0."dropped_by_character_id", r0."inserted_at", r0."updated_at" FROM "room_items" AS r0 INNER JOIN "items" AS i1 ON r0."item_id" = i1."id" WHERE (r0."location" = '0,2,0') AND (i1."name" = 'Tutorial Key') []
[90mâ†³ Shard.Items.create_tutorial_key/0, at: lib/shard/items.ex:342[0m
[debug] QUERY OK source="npcs" db=0.4ms idle=169.7ms
SELECT n0."id", n0."name", n0."description", n0."level", n0."health", n0."max_health", n0."mana", n0."max_mana", n0."strength", n0."dexterity", n0."intelligence", n0."constitution", n0."experience_reward", n0."gold_reward", n0."npc_type", n0."dialogue", n0."inventory", n0."location_x", n0."location_y", n0."location_z", n0."is_active", n0."respawn_time", n0."last_death_at", n0."faction", n0."aggression_level", n0."movement_pattern", n0."properties", n0."room_id", n0."inserted_at", n0."updated_at" FROM "npcs" AS n0 WHERE (((n0."location_x" = 0) AND (n0."location_y" = 0)) AND (n0."name" = 'Goldie')) []
[90mâ†³ Shard.Npcs.create_tutorial_npc_goldie/0, at: lib/shard/npcs.ex:171[0m
[debug] QUERY OK source="rooms" db=0.9ms idle=169.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 2, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="rooms" db=0.6ms queue=0.6ms idle=170.8ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [2, 1, 0]
[90mâ†³ Shard.Items.ensure_room_exists/4, at: lib/shard/items.ex:419[0m
[debug] QUERY OK source="doors" db=0.3ms queue=0.4ms idle=8.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE ((d0."from_room_id" = $1) AND (d0."direction" = $2)) [11, "north"]
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:391[0m
[debug] QUERY OK db=0.3ms idle=8.7ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK source="doors" db=0.6ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
DELETE FROM "doors" WHERE "id" = $1 [202]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.1ms
DELETE FROM "doors" WHERE "id" = $1 [201]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.5ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:395[0m
[debug] QUERY OK db=0.4ms queue=0.1ms idle=12.0ms
begin []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="doors" db=0.3ms
INSERT INTO "doors" ("name","description","direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) RETURNING "id" ["Locked Dungeon Gate", "A heavy iron gate that blocks the entrance to the dungeon. It requires a key to open.", "north", "locked_gate", 11, true, "Tutorial Key", 10, %{}, false, ~U[2025-10-30 00:55:12Z], ~U[2025-10-30 00:55:12Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (((d0."from_room_id" = $1) AND (d0."to_room_id" = $2)) AND (d0."direction" = $3)) [10, 11, "south"]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK source="doors" db=0.2ms
INSERT INTO "doors" ("direction","door_type","from_room_id","is_locked","key_required","to_room_id","properties","new_dungeon","inserted_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id" ["south", "locked_gate", 10, true, "Tutorial Key", 11, %{}, false, ~U[2025-10-30 00:55:12Z], ~U[2025-10-30 00:55:12Z]]
[90mâ†³ anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4, at: lib/ecto/adapters/sql.ex:1458[0m
[debug] QUERY OK db=1.3ms
commit []
[90mâ†³ Shard.Items.create_dungeon_door/0, at: lib/shard/items.ex:402[0m
[debug] QUERY OK source="monsters" db=0.2ms queue=0.2ms idle=15.4ms
SELECT m0."id", m0."name", m0."race", m0."health", m0."max_health", m0."attack_damage", m0."potential_loot_drops", m0."xp_amount", m0."level", m0."description", m0."location_id", m0."inserted_at", m0."updated_at" FROM "monsters" AS m0 []
[90mâ†³ Shard.Monsters.list_monsters/0, at: lib/shard/monsters.ex:21[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=15.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:12[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=15.2ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (r0."id" = $1) [9]
[90mâ†³ anonymous fn/1 in ShardWeb.UserLive.MonsterComponents.load_monsters_from_database/2, at: lib/shard_web/live/user_live/monster_components.ex:20[0m
[debug] QUERY OK source="rooms" db=0.3ms idle=14.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 WHERE (((r0."x_coordinate" = $1) AND (r0."y_coordinate" = $2)) AND (r0."z_coordinate" = $3)) [0, 0, 0]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:248[0m
[debug] QUERY OK source="doors" db=0.8ms idle=14.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 WHERE (d0."from_room_id" = $1) [3]
[90mâ†³ ShardWeb.UserLive.Movement.compute_available_exits/1, at: lib/shard_web/live/user_live/movement.ex:253[0m
[debug] Replied in 28ms
[debug] QUERY OK source="rooms" db=0.5ms queue=0.1ms idle=17.3ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at" FROM "rooms" AS r0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.8ms idle=16.9ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."to_room_id" FROM "doors" AS d0 WHERE (d0."to_room_id" = ANY($1)) ORDER BY d0."to_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=1.0ms idle=15.8ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at", d0."from_room_id" FROM "doors" AS d0 WHERE (d0."from_room_id" = ANY($1)) ORDER BY d0."from_room_id" [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:282[0m
[debug] QUERY OK source="doors" db=0.4ms idle=13.7ms
SELECT d0."id", d0."name", d0."description", d0."direction", d0."is_locked", d0."key_required", d0."door_type", d0."properties", d0."new_dungeon", d0."from_room_id", d0."to_room_id", d0."inserted_at", d0."updated_at" FROM "doors" AS d0 []
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.2ms idle=9.9ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[10, 11, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
[debug] QUERY OK source="rooms" db=0.4ms idle=9.6ms
SELECT r0."id", r0."name", r0."description", r0."x_coordinate", r0."y_coordinate", r0."z_coordinate", r0."is_public", r0."room_type", r0."properties", r0."inserted_at", r0."updated_at", r0."id" FROM "rooms" AS r0 WHERE (r0."id" = ANY($1)) [[11, 10, 9, 8, 7, 6, 5, 4, 3]]
[90mâ†³ ShardWeb.UserLive.MapComponents.minimap/1, at: lib/shard_web/live/user_live/map_components.ex:283[0m
